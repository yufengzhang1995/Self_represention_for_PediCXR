{
    "name": "BYOL",
    "n_gpu": 2,

    "arch": {
        "type": "BYOL",
        "args": {
            "backbone": "resnet50",
            "image_size": 224,
            "drop_layer": -1,
            "pretrained":true,
            "augmentation": "BestCombineAugmentation",
            "projection_size": 256,
            "projection_hidden_size": 4096,
            "moving_average_decay": 0.99,
            "use_momentum": true
        }
    },

    "data_loader": {
        "type": "MIMIC_CXRDataLoader",
        "args":{
            "data_dir": "/nfs/turbo/med-kayvan-lab/Projects/HeartFailure/Code/Yufeng/multimodal/mimic_cxr_note_chexpert.csv",
            "batch_size": 64,
            "image_size": 224,
            "split_ratio": 0.2,
            "num_workers": 0,
            "split_method": "patient-wise"
        }
    },

    "optimizer": {
        "type": "SGD",
        "args":{
            "lr": 0.001,
            "weight_decay": 0.0004,
            "momentum":0.9
        }
    },

    "lr_scheduler": {
        "type": "LinearWarmupCosineAnnealingLR",
        "args": {
            "warmup_epochs": 5
        }
    },
    "trainer": {
        "epochs": 20,

        "save_dir": "/nfs/turbo/med-kayvan-lab/Projects/HeartFailure/Data/Processed/Yufeng/CXR_representation_Results",
        "save_period": 1,
        "verbosity": 2,
        
        "monitor": "min val_loss",
        "early_stop": 20,

        "tensorboard": true
    }
}